<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Simulador - Tecnologías Chapinas</title>
</head>
    <style>
        body{ font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        margin: 2rem; background-color: #f7f7f7; color: #333;    
    }
    .container {max-width: 800px; margin: auto; background: white; padding:2rem; border-radius:8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1)}
    h1, h2 {color: #1a237e;}

    form { margin-top: 1.5 rem; padding: 1.5 rem; border: 1px  solid #ddd; border-radius: 5px;}
    input[type="file"] {display: block; margin-bottom: 1rem;}
    button{ background-color: #1a237e; color:white; padding:0.7rem 1.5rem; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem;}
    button:hover{background: color #394939;}
    .message-box {margin-top: 2rem; padding: 1rem; border-radius: 5px;}
    .success {background-color: #e8f5e9; border:1px solid #4caf50; color: #1b5e20;}
    .error {background-color: #ffebee; border:1px solid #f44336; color: #b71c1c;} 
    pre {background: #eee;padding: 1rem; border-radius: 4px; white-space: pre-wrap; word-wrap: break-word;}  
    </style>
<body>
    <div class="container">
        
        <a href="{% url 'simulador_app:consulta_datos' %}" class="nav-link">Consultar Datos del Sistema →</a>

        <h1>Simulador de Tecnologías Chapinas</h1>
        <h2>1.cargar archio de configuracion (.xml)</h2>
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <label for="configFile"> Seleccione el archivo de config.: </label>
            <input type="file" name="archivo_config" id="configFile" accept =".xml" required>
            
            <input type="hidden" name="form_type" value="configuracion">

            <button type="submit">Cargar configuracion</button>
        </form>

    <!-- Formulario de Consumos ---->
        <h2>2. Registrar Consumos (.xml)</h2>
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <label for="consumoFile">Selecciona el archivo de consumos:</label>
            <input type="file" name="archivo_consumo" id="consumoFile" accept=".xml" required>
            <input type="hidden" name="form_type" value="consumo">
            <button type="submit">Registrar Consumos</button>
        </form>
        <!---Seccion de mensajes XD. -->
        {% if mensaje %}
            <div class="message-box {{ tipo_mensaje }}">
                <h3>Resultado de la Operación:</h3>
                <p>{{ mensaje }}</p>
                {% if resumen %}
                    <h4>Resumen:</h4>
                    <pre>{{ resumen }}</pre>
                {% endif %}
            </div>
        {% endif %}
    </div>
</body>
</html>